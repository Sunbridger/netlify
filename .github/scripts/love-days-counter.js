// .github/scripts/love-days-counter.js
const axios = require('axios');

// 配置常量
const CONFIG = {
  LOVE_START_DATE: new Date('2024-09-14T00:00:00Z'),
  BARK_KEY: process.env.BARK_KEY,
  BARK_SOUND: 'minuet',
};

async function main() {
  try {
    console.log('💖 开始执行恋爱天数推送...');

    // 相恋日期
    const LOVE_START_DATE = new Date('2024-09-14T00:00:00Z');
    const nowUTC = new Date();

    // 计算天数差
    const diffTime = nowUTC - LOVE_START_DATE;
    const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));

    // 显示北京时间给用户
    const beijingTime = new Date(nowUTC.getTime() + 8 * 60 * 60 * 1000);
    const displayDate = beijingTime.toISOString().split('T')[0];

    // 可爱风格的消息模板
    const message = getRandomLoveMessage(diffDays);

    // 通过 Bark 推送
    await sendBarkNotification({
      title: `${getRandomLoveEmoji()}乔&娜相恋的第 ${diffDays} 天！`,
      body: message,
      sound: 'minuet',
    });

    console.log('✅ 推送发送成功！');
    console.log(`📅 相恋天数: ${diffDays}天`);
    console.log(`🗓️ 今日日期: ${displayDate}`);
    console.log(`💌 推送内容: ${message}`);
  } catch (error) {
    console.error('❌ 执行失败:', error.message);
    process.exit(1);
  }
}

// 随机恋爱表情
function getRandomLoveEmoji() {
  const emojis = [
    '🌸',
    '🍬',
    '💌',
    '🐇',
    '🧸',
    '🎀',
    '🍭',
    '🌈', // 基础款
    '🐾',
    '🌟',
    '🍓',
    '🦄',
    '💐',
    '🍫',
    '🕯️',
    '🎁', // 甜蜜款
    '💞',
    '🐈',
    '🫧',
    '🎠',
    '🍡',
    '🌷',
    '🦋',
    '🍩', // 梦幻款
    '🎼',
    '📖',
    '🏮',
    '🎈',
    '🍯',
    '🛍️',
    '💒',
    '👑', // 浪漫款
    '🌙',
    '☁️',
    '🥂',
    '🍎',
    '✨',
    '🫶',
    '🐚',
    '🚀', // 特别款
  ];
  return emojis[Math.floor(Math.random() * emojis.length)];
}

// 随机恋爱语录
function getRandomLoveMessage(days) {
  // 所有基础文案（普通日期使用）
  const baseMessages = [
    // 基础甜蜜款
    `已经一起走过 ${days} 个日夜啦~`,
    `我们的爱情像小树苗一样生长了 ${days} 天！`,
    `${days} 天的陪伴，每一天都甜度超标！`,
    `这是我们一起编织的第 ${days} 个梦境`,
    `${days} 天 = ${days * 24} 小时 = ${days * 1440} 分钟的爱`,

    // 文艺诗句款
    `春风十里不如你，${days}天只是开始`,
    `三生三世太遥远，只要这${days}天的每一天`,
    `你是我第${days}次心动，也是余生每一次`,
    `${days}天前的那一眼，成了我永恒的春天`,

    // 可爱比喻款
    `像${days}颗草莓糖，每天甜度+1`,
    `我们的爱情储蓄罐又多了${days}枚金币~`,
    `这是第${days}次宇宙为我们绽放烟花`,
    `恋爱进度条：▓▓▓▓▓▓▓▓▓ ${days}/∞`,

    // 互动款
    `今天是我们通关恋爱游戏的第${days}关！`,
    `第${days}次对你说：早安、午安、晚安`,
    `已收集 ${days} 个「爱你」的碎片`,
    `今日恋爱温度：${days}°C（持续升温中）`,

    // 暖心款
    `${days}天前你牵起的手，现在依然温暖`,
    `每一天都是新的开始，但爱你是${days}天的坚持`,
    `我们的故事写了${days}页，每一页都有彩虹`,

    // 趣味款
    `已连续爱你${days}天，打破宇宙记录！`,
    `第${days}次确认：我还是好喜欢你呀`,
    `恋爱待机时间：${days}天 0小时 0分钟`,
    `今日恋爱KPI：想你${days}次（超额完成）`,

    // 诗意款
    `${days}天的晨光与月色，都有你的轮廓`,
    `把${days}天的星光串成项链，戴在你心上`,
    `我们的${days}天，比银河的星星更闪耀`,

    // 未来展望款
    `${days}天只是起点，未来还有光年`,
    `从第1天到第${days}天，从心动到永恒`,
    `我们的爱，${days}天新鲜如初`,

    // 🌸 新增甜蜜款 (30条)
    `第${days}次确认：你就是我的命中注定`,
    `我们的爱情地图已经标记了${days}个心动坐标`,
    `像${days}朵棉花糖，软软甜甜都是你`,
    `恋爱能量值：${days}%（持续充电中）`,
    `这是我们一起看过的第${days}次日落`,
    `我们的爱已经发酵了${days}天，越来越醇香`,
    `第${days}次觉得，有你在真好`,
    `爱情存折又存入了${days}天的幸福`,
    `像${days}颗星星，每晚都为你闪烁`,
    `恋爱技能熟练度：${days}/100（大师级）`,
    `我们的爱情树已经长了${days}圈年轮`,
    `第${days}次觉得，世界因你而美好`,
    `像${days}杯奶茶，甜度刚刚好`,
    `恋爱经验值：${days}点（满级玩家）`,
    `这是我们一起呼吸的第${days}万次`,
    `我们的爱情乐章已经演奏了${days}个小节`,
    `第${days}次感谢命运让我们相遇`,
    `像${days}颗巧克力，每一颗都有惊喜`,
    `恋爱幸运值：${days}颗星（爆表啦）`,
    `这是我们一起做的第${days}个美梦`,
    `我们的爱情花园开了${days}朵花`,
    `第${days}次觉得，爱你是我最好的决定`,
    `像${days}片雪花，每一片都独一无二`,
    `恋爱温度计：${days}°（恒温热爱）`,
    `这是我们一起走过的第${days}公里`,
    `我们的爱情电影已经播放了${days}分钟`,
    `第${days}次确认，你就是我的答案`,
    `像${days}颗珍珠，每一颗都珍贵`,
    `恋爱电量：${days}%（永远满格）`,
    `这是我们一起笑的第${days}万次`,

    // 📚 新增文艺款 (30条)
    ` ${days}天的诗篇，每一行都是你`,
    `我们的爱如${days}页小说，情节愈发精彩`,
    ` ${days}次回眸，换今生相守`,
    `爱情如${days}首老歌，越听越有味道`,
    ` ${days}天的等待，只为与你相遇`,
    `我们的故事有${days}章，章章精彩`,
    ` ${days}次心动，次次为你`,
    `爱情如${days}幅画，色彩因你而鲜艳`,
    ` ${days}天的思念，织成最美的情网`,
    `我们的缘分有${days}光年那么长`,
    ` ${days}次告白，句句真心`,
    `爱情如${days}首诗，押韵的都是幸福`,
    ` ${days}天的相守，胜过千言万语`,
    `我们的默契已经修炼了${days}天`,
    ` ${days}次牵手，次次温暖`,
    `爱情如${days}杯酒，越陈越香`,
    ` ${days}天的陪伴，是最长情的告白`,
    `我们的心跳已经同步了${days}天`,
    ` ${days}次拥抱，次次安心`,
    `爱情如${days}本书，页页精彩`,
    ` ${days}天的时光，因你而闪耀`,
    `我们的眼神已经交汇了${days}万次`,
    ` ${days}次亲吻，次次甜蜜`,
    `爱情如${days}场梦，美得不愿醒来`,
    ` ${days}天的记忆，满满都是你`,
    `我们的微笑已经练习了${days}天`,
    ` ${days}次约会，次次难忘`,
    `爱情如${days}首歌，旋律都是幸福`,
    ` ${days}天的成长，都有你陪伴`,
    `我们的未来还有${days}个明天`,

    // 🎮 新增互动款 (30条)
    `今日恋爱任务：想你${days}次（已完成）`,
    `第${days}关恋爱副本，轻松通关！`,
    `恋爱成就：连续在线${days}天`,
    `今日亲密度：${days}点（满分）`,
    `第${days}次组队成功，配合默契100%`,
    `恋爱技能：${days}级撒娇（大师级）`,
    `今日心动值：${days}%（爆表警告）`,
    `第${days}次双人任务，完美完成`,
    `恋爱等级：${days}级（满级大佬）`,
    `今日恩爱度：${days}颗星（五颗星）`,
    `第${days}次情侣挑战，轻松获胜`,
    `恋爱经验：${days}点（无人能及）`,
    `今日甜蜜值：${days}分（满分通过）`,
    `第${days}次心有灵犀，默契满分`,
    `恋爱勋章：${days}枚（收集完成）`,
    `今日幸福感：${days}%（持续上涨）`,
    `第${days}次情侣副本，完美配合`,
    `恋爱天赋：${days}点（天赋异禀）`,
    `今日宠溺值：${days}%（超标啦）`,
    `第${days}次情侣任务，轻松搞定`,
    `恋爱技能树：${days}个技能点满`,
    `今日浪漫值：${days}分（优秀）`,
    `第${days}次情侣挑战，胜利在望`,
    `恋爱成就点：${days}点（成就达人）`,
    `今日心动指数：${days}%（心跳加速）`,
    `第${days}次情侣合作，天衣无缝`,
    `恋爱属性：${days}点魅力值`,
    `今日恩爱指数：${days}颗心`,
    `第${days}次情侣任务，完美收官`,
    `恋爱评分：${days}分（满分选手）`,

    // 🌟 新增诗意款 (30条)
    ` ${days}天的星光，照亮我们的归途`,
    `我们的爱如${days}颗流星，划过天际`,
    ` ${days}次的月圆，都有你陪伴`,
    `爱情如${days}朵云，柔软而美丽`,
    ` ${days}天的潮汐，为爱起伏`,
    `我们的缘分如${days}条河流，绵延不绝`,
    ` ${days}次的日出，每次都有新希望`,
    `爱情如${days}片海，深邃而广阔`,
    ` ${days}天的微风，轻轻诉说爱意`,
    `我们的承诺如${days}座山，坚定不移`,
    ` ${days}次的彩虹，每次都有新惊喜`,
    `爱情如${days}棵树，根深叶茂`,
    ` ${days}天的细雨，滋润爱情花朵`,
    `我们的默契如${days}颗星，闪闪发光`,
    ` ${days}次的季节更替，爱意不变`,
    `爱情如${days}场雪，纯洁而美好`,
    ` ${days}天的阳光，温暖彼此心房`,
    `我们的故事如${days}幅画，色彩斑斓`,
    ` ${days}次的潮起潮落，爱如初`,
    `爱情如${days}杯茶，回味无穷`,
    ` ${days}天的月光，温柔如水`,
    `我们的旅程如${days}里路，风景独好`,
    ` ${days}次的花开，每次都有新美好`,
    `爱情如${days}只蝶，翩翩起舞`,
    ` ${days}天的等待，值得所有美好`,
    `我们的回忆如${days}颗糖，甜到心底`,
    ` ${days}次的叶落，化作春泥更护花`,
    `爱情如${days}首诗，押韵幸福`,
    ` ${days}天的守候，换来永恒`,
    `我们的未来如${days}颗星，永远闪耀`,

    // 🍬 新增可爱款 (30条)
    `像${days}只小熊，每天都要抱抱`,
    `我们的爱情糖果罐有${days}颗糖`,
    `第${days}次觉得，你是我的小幸运`,
    `像${days}个气球，带着爱飞向天空`,
    `恋爱甜度：${days}%（甜度超标）`,
    `第${days}次确认，你是我的小可爱`,
    `像${days}朵小花，每天为你开放`,
    `我们的爱情游乐园开了${days}天`,
    `第${days}次觉得，世界因你而可爱`,
    `像${days}只小兔，蹦蹦跳跳都是爱`,
    `恋爱萌度：${days}%（萌化啦）`,
    `第${days}次觉得，你是我的小太阳`,
    `像${days}颗爱心，每颗都为你跳动`,
    `我们的爱情城堡建了${days}天`,
    `第${days}次确认，你是我的小甜心`,
    `像${days}只小猫，撒娇${days}次`,
    `恋爱可爱值：${days}点（满分）`,
    `第${days}次觉得，你是我的小奇迹`,
    `像${days}个泡泡，每个都充满爱`,
    `我们的爱情童话写了${days}章`,
    `第${days}次确认，你是我的小宝贝`,
    `像${days}颗星星，每晚说晚安`,
    `恋爱治愈值：${days}%（治愈一切）`,
    `第${days}次觉得，你是我的小确幸`,
    `像${days}只小狗，忠诚爱你`,
    `我们的爱情魔法持续${days}天`,
    `第${days}次确认，你是我的小天使`,
    `像${days}片云朵，柔软又温暖`,
    `恋爱快乐值：${days}%（快乐满格）`,
    `第${days}次觉得，你是我的小幸福`,

    // 💫 新增梦幻款 (30条)
    `我们的爱情魔法已经施展了${days}天`,
    `像${days}颗流星，每个愿望都实现`,
    `第${days}次进入爱的奇幻世界`,
    `恋爱魔法值：${days}%（法力无边）`,
    `我们的爱情童话已经讲了${days}夜`,
    `像${days}个梦境，每个都有你`,
    `第${days}次穿越到爱的时空`,
    `恋爱奇幻度：${days}%（不可思议）`,
    `我们的爱情冒险已经进行了${days}天`,
    `像${days}颗宝石，每颗都闪耀`,
    `第${days}次进入幸福结界`,
    `恋爱神秘值：${days}%（神秘莫测）`,
    `我们的爱情传说已经流传了${days}天`,
    `像${days}道彩虹，每道都美丽`,
    `第${days}次打开爱的宝箱`,
    `恋爱奇迹值：${days}%（奇迹发生）`,
    `我们的爱情魔法阵运转了${days}天`,
    `像${days}颗水晶，纯净又透明`,
    `第${days}次发现爱的秘境`,
    `恋爱魔力值：${days}%（魔力十足）`,
    `我们的爱情神话已经书写了${days}页`,
    `像${days}只精灵，带来好运`,
    `第${days}次进入甜蜜次元`,
    `恋爱梦幻值：${days}%（如梦似幻）`,
    `我们的爱情宝藏已经积累了${days}天`,
    `像${days}颗钻石，永恒璀璨`,
    `第${days}次解锁爱的密码`,
    `恋爱神秘度：${days}%（深不可测）`,
    `我们的爱情奇迹发生了${days}次`,
    `像${days}个月亮，温柔守护`,

    // 🎀 新增浪漫款 (30条)
    `我们的浪漫已经积累了${days}天`,
    `第${days}次烛光晚餐，每次都心动`,
    `恋爱浪漫值：${days}%（浪漫满屋）`,
    `我们的爱情电影已经放映了${days}场`,
    `第${days}次星空下的约定`,
    `浪漫指数：${days}颗星（五星好评）`,
    `我们的情书已经写了${days}封`,
    `第${days}次海边漫步，脚印成双`,
    `浪漫浓度：${days}%（浓情蜜意）`,
    `我们的约会已经进行了${days}次`,
    `第${days}次山顶看日出，美景如画`,
    `浪漫氛围：${days}%（氛围感拉满）`,
    `我们的纪念日已经过了${days}个`,
    `第${days}次花园约会，花香四溢`,
    `浪漫程度：${days}分（满分浪漫）`,
    `我们的惊喜已经准备了${days}个`,
    `第${days}次音乐会，旋律是爱`,
    `浪漫时刻：${days}个（每个都珍贵）`,
    `我们的旅行已经去了${days}个地方`,
    `第${days}次看烟花，绚烂如爱`,
    `浪漫回忆：${days}段（段段美好）`,
    `我们的舞步已经跳了${days}支`,
    `第${days}次许愿，每次都实现`,
    `浪漫旅程：${days}里（一路有你）`,
    `我们的笑声已经回荡了${days}天`,
    `第${days}次拥抱，温暖如初`,
    `浪漫时光：${days}秒（秒秒珍惜）`,
    `我们的眼神已经交汇了${days}次`,
    `第${days}次牵手，心跳加速`,
    `浪漫永恒：${days}天（爱无止境）`,

    // 🌈 新增温馨款 (30条)
    `我们的温馨小窝已经住了${days}天`,
    `第${days}次一起做饭，香味是家`,
    `温馨指数：${days}%（家的感觉）`,
    `我们的早安吻已经坚持了${days}天`,
    `第${days}次窝在沙发看电影`,
    `温馨时刻：${days}个（温暖如春）`,
    `我们的晚安故事已经讲了${days}夜`,
    `第${days}次一起逛超市，满满幸福`,
    `温馨氛围：${days}%（舒适安心）`,
    `我们的早餐已经共享了${days}次`,
    `第${days}次一起打扫，也是甜蜜`,
    `温馨日常：${days}天（平凡珍贵）`,
    `我们的午后茶已经喝了${days}杯`,
    `第${days}次一起看书，静谧美好`,
    `温馨时光：${days}分（分秒珍惜）`,
    `我们的晚餐已经共度了${days}次`,
    `第${days}次一起洗碗，也是乐趣`,
    `温馨记忆：${days}段（温暖心间）`,
    `我们的周末已经度过了${days}个`,
    `第${days}次一起晒太阳，慵懒幸福`,
    `温馨生活：${days}天（简单美好）`,
    `我们的假期已经享受了${days}天`,
    `第${days}次一起听雨，浪漫满屋`,
    `温馨家园：${days}天（爱的小窝）`,
    `我们的节日已经庆祝了${days}个`,
    `第${days}次一起赏月，月光如水`,
    `温馨年年：${days}天（岁岁平安）`,
    `我们的四季已经轮回了${days}次`,
    `第${days}次一起看雪，纯洁如爱`,
    `温馨永远：${days}天（永恒温暖）`,

    // 🚀 新增未来款 (30条)
    `我们的未来蓝图已经规划了${days}天`,
    `第${days}次憧憬有你的明天`,
    `未来可期：${days}%（充满希望）`,
    `我们的梦想清单已经实现了${days}个`,
    `第${days}次相信永远不远`,
    `未来愿景：${days}个（每个都美）`,
    `我们的目标已经达成了${days}个`,
    `第${days}次期待白头偕老`,
    `未来光明：${days}%（前程似锦）`,
    `我们的计划已经执行了${days}天`,
    `第${days}次想象金婚那天`,
    `未来美好：${days}分（满分期待）`,
    `我们的承诺已经坚守了${days}天`,
    `第${days}次相信爱能永恒`,
    `未来灿烂：${days}%（光芒万丈）`,
    `我们的约定已经履行了${days}个`,
    `第${days}次期待儿孙满堂`,
    `未来辉煌：${days}天（辉煌人生）`,
    `我们的誓言已经铭记了${days}天`,
    `第${days}次相信奇迹会发生`,
    `未来无限：${days}%（潜力无穷）`,
    `我们的希望已经播种了${days}天`,
    `第${days}次憧憬环球旅行`,
    `未来精彩：${days}个（精彩纷呈）`,
    `我们的理想已经追求了${days}天`,
    `第${days}次期待每一个明天`,
    `未来美满：${days}%（幸福圆满）`,
    `我们的征程已经开始了${days}天`,
    `第${days}次相信爱能战胜一切`,
    `未来光明：${days}天（光明大道）`,
  ];

  // 特殊日期文案（100的整数倍天数）
  const specialMessages = [
    `🎉 ${days}天纪念！我们的爱满分！`,
    `💯 恭喜达成「${days}天恋爱」成就！`,
    `🏆 第${days}天：你是我人生最完美的冠军`,
    `📅 ${days}页的恋爱日记，每一页都是心动`,
    `✨ ${days}天的星光，照亮了我们的永恒`,

    // 🎊 新增庆祝款 (15条)
    `🎊 ${days}天里程碑！我们的爱闪闪发光！`,
    `🎈 ${days}天纪念日！爱你的每一天都是节日`,
    `🥳 ${days}天成就解锁！我们的爱持续升级`,
    `🎪 ${days}天狂欢！爱你的马戏团永不散场`,
    `🎇 ${days}天烟花秀！为我们的爱绽放`,
    `🎆 ${days}天庆典！爱你的烟火永不熄灭`,
    `🎂 ${days}天蛋糕！甜蜜层层叠加`,
    `🍾 ${days}天香槟！为爱干杯！`,
    `🎁 ${days}天礼物！你就是最好的惊喜`,
    `🏅 ${days}天金牌！我们的爱是冠军`,
    `🎗️ ${days}天勋章！爱你的荣誉永不褪色`,
    `🎪 ${days}天嘉年华！爱的狂欢进行中`,
    `🎭 ${days}天戏剧！我们的爱永不落幕`,
    `🎼 ${days}天交响乐！爱的旋律悠扬`,
    `🎹 ${days}天钢琴曲！为你弹奏爱的乐章`,

    // 🌟 新增闪耀款 (15条)
    `🌟 ${days}天闪耀！我们的爱如星辰永恒`,
    `💫 ${days}天流星雨！每个愿望都实现`,
    `🌠 ${days}天彗星！为爱划过天际`,
    `⭐ ${days}天星星！每颗都为你闪烁`,
    `☀️ ${days}天太阳！温暖如初的爱`,
    `🌙 ${days}天月亮！温柔守护的夜`,
    `🌈 ${days}天彩虹！风雨后的美丽`,
    `🌀 ${days}天漩涡！爱的吸引力无法抗拒`,
    `🌊 ${days}天海浪！爱如潮水涌来`,
    `🌌 ${days}天银河！我们的爱横跨星空`,
    `🌅 ${days}天日出！每天都是新的开始`,
    `🌄 ${days}天日落！浪漫永不落幕`,
    `🌃 ${days}天夜空！星光为证的爱`,
    `🌉 ${days}天桥梁！连接我们的心`,
    `🌋 ${days}天火山！爱的热情喷发`,

    // 💖 新增心动款 (15条)
    `💖 ${days}天心跳！每分钟都在想你`,
    `💝 ${days}天礼物！你就是我的惊喜`,
    `💘 ${days}天心动！箭箭命中靶心`,
    `💓 ${days}天心跳！频率只为你加速`,
    `💗 ${days}天心动！爱意不断生长`,
    `💞 ${days}天心心相印！默契满分`,
    `💕 ${days}天爱心！双倍甜蜜`,
    `💟 ${days}天装饰！爱是最美的点缀`,
    `❣️ ${days}天感叹！爱你是最对的事`,
    `❤️ ${days}天红心！热情永不褪色`,
    `🧡 ${days}天橙心！温暖如阳光`,
    `💛 ${days}天黄心！明亮如你的笑`,
    `💚 ${days}天绿心！生机勃勃的爱`,
    `💙 ${days}天蓝心！深邃如海的爱`,
    `💜 ${days}天紫心！浪漫神秘的爱`,

    // 🏆 新增成就款 (15条)
    `🏆 ${days}天奖杯！我们的爱是冠军`,
    `🎖️ ${days}天勋章！爱你的荣誉`,
    `🥇 ${days}天金牌！第一名是你`,
    `🥈 ${days}天银牌！闪闪发光的爱`,
    `🥉 ${days}天铜牌！坚实的爱`,
    `📊 ${days}天数据！爱意持续增长`,
    `📈 ${days}天图表！幸福曲线上升`,
    `🎯 ${days}天靶心！爱精准命中`,
    `⚖️ ${days}天天平！爱的平衡完美`,
    `🔑 ${days}天钥匙！打开幸福之门`,
    `🏰 ${days}天城堡！我们的爱之堡垒`,
    `👑 ${days}天王冠！你是我的女王/国王`,
    `💍 ${days}天戒指！承诺永恒`,
    `💎 ${days}天钻石！坚硬如我们的爱`,
    `🏅 ${days}天绶带！爱的荣誉勋章`,

    // 📚 新增文艺款 (15条)
    `📚 ${days}天故事书！每页都是甜蜜`,
    `📖 ${days}天小说！情节越来越精彩`,
    `📒 ${days}天日记本！记录爱的点滴`,
    `📝 ${days}天便签！贴满爱的提醒`,
    `📋 ${days}天清单！完成所有爱的任务`,
    `📅 ${days}天日历！圈出每个纪念日`,
    `📆 ${days}天月历！按月计算幸福`,
    `🗓️ ${days}天年历！年年有爱`,
    `📊 ${days}天报表！爱意数据完美`,
    `📈 ${days}天曲线！幸福持续上升`,
    `📉 ${days}天反比？不存在的！爱只增不减`,
    `📌 ${days}天图钉！固定美好时刻`,
    `📍 ${days}天标记！爱你的坐标`,
    `🎀 ${days}天蝴蝶结！包装我们的爱`,
    `🎁 ${days}天礼物盒！每天都有惊喜`,

    // 🎨 新增创意款 (15条)
    `🎨 ${days}天调色盘！调配爱的颜色`,
    `🖼️ ${days}天画框！装裱美好回忆`,
    `🎭 ${days}天面具？不！我们真诚相待`,
    `🎪 ${days}天马戏团！爱的表演精彩`,
    `🎤 ${days}天麦克风！唱出爱的心声`,
    `🎧 ${days}天耳机！共享爱的旋律`,
    `🎼 ${days}天乐谱！谱写爱的交响曲`,
    `🎹 ${days}天钢琴！弹奏爱的乐章`,
    `🎷 ${days}天萨克斯！吹出浪漫旋律`,
    `🎺 ${days}天小号！宣告爱的胜利`,
    `🎸 ${days}天吉他！弹唱爱的民谣`,
    `🎻 ${days}天小提琴！拉出爱的悠扬`,
    `🥁 ${days}天鼓！敲击爱的节奏`,
    `📯 ${days}天号角！吹响爱的凯歌`,
    `🎙️ ${days}天录音棚！录制爱的宣言`,

    // 🌈 新增多彩款 (15条)
    `🌈 ${days}天彩虹！七色都是爱`,
    `🎨 ${days}天颜料！描绘爱的画卷`,
    `🖍️ ${days}天蜡笔！涂鸦爱的世界`,
    `🖌️ ${days}天画笔！勾勒爱的轮廓`,
    `📐 ${days}天尺子！测量爱的深度`,
    `✂️ ${days}天剪刀？不！我们永不分离`,
    `📍 ${days}天图钉！标记爱的地图`,
    `📌 ${days}天别针！固定美好瞬间`,
    `🔖 ${days}天书签！标记爱的章节`,
    `🏷️ ${days}天标签！贴上爱的标识`,
    `📎 ${days}天回形针！连接我们的心`,
    `🖇️ ${days}天夹子！夹住爱的证据`,
    `📏 ${days}天直尺！爱是一条直线`,
    `📐 ${days}三角尺？不！我们的爱没有角度`,
    `✏️ ${days}天铅笔！书写爱的故事`,

    // 🚀 新增未来款 (15条)
    `🚀 ${days}天火箭！爱冲向宇宙`,
    `🛸 ${days}天飞碟！爱的外星访客`,
    `🌍 ${days}天地球！爱环绕世界`,
    `🌕 ${days}天月球！爱之登月计划`,
    `⭐ ${days}天恒星！爱永恒发光`,
    `🌌 ${days}天星系！我们的爱河系`,
    `🛰️ ${days}天卫星！环绕爱的轨道`,
    `👨‍🚀 ${days}天宇航员！探索爱的宇宙`,
    `👩‍🚀 ${days}天女宇航员！爱的太空漫步`,
    `🛰️ ${days}天空间站！爱的太空基地`,
    `🚁 ${days}天直升机！俯瞰爱的全景`,
    `✈️ ${days}天飞机！爱飞向蓝天`,
    `🛳️ ${days}天邮轮！爱的海上航行`,
    `🚂 ${days}天火车！爱的长途旅行`,
    `🏎️ ${days}天赛车！爱的速度与激情`,

    // 🎮 新增游戏款 (15条)
    `🎮 ${days}天游戏！爱的关卡全通`,
    `🕹️ ${days}天手柄！操控爱的方向`,
    `👾 ${days}天外星人！爱的神秘访客`,
    `🖥️ ${days}天电脑！运行爱的程序`,
    `💾 ${days}天磁盘！存储爱的记忆`,
    `💿 ${days}天光盘！刻录爱的时光`,
    `📀 ${days}天DVD！播放爱的电影`,
    `🎲 ${days}天骰子！掷出爱的点数`,
    `♟️ ${days}天棋子！走好爱的每一步`,
    `🎯 ${days}天飞镖！命中爱的靶心`,
    `🎳 ${days}天保龄球！击倒所有障碍`,
    `🎰 ${days}天老虎机？不！爱不是赌博`,
    `🎪 ${days}天游乐场！爱的欢乐园`,
    `🤖 ${days}天机器人？不！我们的爱很真实`,
    `👻 ${days}天鬼魂？不！我们的爱很阳光`,

    // 🍬 新增甜蜜款 (15条)
    `🍬 ${days}天糖果！甜到心里`,
    `🍭 ${days}天棒棒糖！甜蜜持久`,
    `🍫 ${days}天巧克力！丝滑的爱`,
    `🍩 ${days}天甜甜圈！圆满的爱`,
    `🍪 ${days}天饼干！脆脆的幸福`,
    `🎂 ${days}天蛋糕！层层甜蜜`,
    `🍰 ${days}天小蛋糕！精致的美味`,
    `🧁 ${days}天纸杯蛋糕！可爱的爱`,
    `🍦 ${days}天冰淇淋！凉爽的甜蜜`,
    `🍨 ${days}天圣代！顶级的享受`,
    `🍧 ${days}天刨冰！清爽的爱`,
    `🥧 ${days}天派！馅料满满的爱`,
    `🍮 ${days}天布丁！Q弹的幸福`,
    `🍯 ${days}天蜂蜜！天然甜蜜`,
    `🥮 ${days}天月饼！团圆的爱`,

    // 🏰 新增童话款 (15条)
    `🏰 ${days}天城堡！公主和王子的爱`,
    `🤴 ${days}天王子！找到我的公主`,
    `👸 ${days}天公主！遇见我的王子`,
    `🐉 ${days}天龙！守护爱的宝藏`,
    `🦄 ${days}天独角兽！神奇的爱`,
    `🧚 ${days}天精灵！施展爱的魔法`,
    `🧙‍♀️ ${days}天女巫？不！我们是纯纯的爱`,
    `🎪 ${days}天童话！爱的美好故事`,
    `📖 ${days}天故事书！翻开新篇章`,
    `🖋️ ${days}天羽毛笔！书写爱的传奇`,
    `📜 ${days}天卷轴！展开爱的历史`,
    `🏺 ${days}天陶罐？不！我们的爱很现代`,
    `⚔️ ${days}天剑？不！我们用爱化解一切`,
    `🛡️ ${days}天盾牌！保护我们的爱`,
    `🏹 ${days}天弓箭！射中爱的心靶`,

    // 🌸 新增自然款 (15条)
    `🌸 ${days}天樱花！短暂而美丽？不！我们的爱永恒`,
    `🌺 ${days}天芙蓉！娇艳的爱`,
    `🌻 ${days}天向日葵！向阳的爱`,
    `🌼 ${days}天小野菊！朴实的爱`,
    `🌷 ${days}天郁金香！高贵的爱`,
    `💐 ${days}天花束！精心包装的爱`,
    `🌹 ${days}天玫瑰！带刺但美丽`,
    `🥀 ${days}天枯萎？不！我们的爱永远新鲜`,
    `🌱 ${days}天幼苗！茁壮成长的爱`,
    `🌲 ${days}天大树！扎根深厚的爱`,
    `🌳 ${days}天森林！广阔无边的爱`,
    `🌴 ${days}天棕榈树！热带风情的爱`,
    `🌵 ${days}天仙人掌！坚韧的爱`,
    `🌾 ${days}天稻穗！丰收的爱`,
    `🍁 ${days}天枫叶！火热的爱`,
  ];

  // 判断是否为特殊日期（100的整数倍）
  const isSpecialDay = days % 100 === 0;

  // 特殊日期使用专属文案
  if (isSpecialDay) {
    return specialMessages[Math.floor(Math.random() * specialMessages.length)];
  }

  // 普通日期随机返回基础文案
  return (
    baseMessages[Math.floor(Math.random() * baseMessages.length)] +
    getRandomLoveEmoji()
  );
}

// 发送 Bark 通知
async function sendBarkNotification({ title, body, sound = 'minuet' }) {
  if (!CONFIG.BARK_KEY) {
    throw new Error('BARK_KEY 环境变量未设置');
  }

  const response = await axios.post(`https://api.day.app/${CONFIG.BARK_KEY}`, {
    title,
    body,
    sound,
    icon: `https://emojicdn.elk.sh/${getRandomLoveEmoji()}`,
    // level: 'timeSensitive',
  });

  return response.data;
}

// 执行主函数
if (require.main === module) {
  main().catch((error) => {
    console.error('❌ 程序执行失败:', error);
    process.exit(1);
  });
}

module.exports = { main };
